@use "../../import/_mixin" as *;
// =======================================
// Primary Page - Key Section Styles
// =======================================
.primary {
  .key {
    margin-bottom: 160px;
    padding-top: 320px;
    gap: 48px;
    max-width: 1920px;

    .left {
      overflow: initial;
      z-index: 10;
      min-width: 600px;

      .mid-tit {
        width: calc(100vw - 200px);
        max-width: 1720px;
        height: 500px;
        transform: translateY(-320px);
        opacity: 1;
        position: absolute;
        top: 0;
        left: 0;
        background-size: cover;
        background-repeat: no-repeat;

        span {
          position: absolute;
          bottom: -120px;
          left: 200px;
          line-height: 1.2;
          
          strong {
            color: #000;
          }
        }
      }

      ul {
        padding-top: 240px;
        display: flex;
        flex-direction: column;
        gap: 24px;

        li {
          font-size: 20px;
          font-weight: 300;
          white-space: nowrap;
          cursor: pointer;
          transition: all 0.15s linear;
          
          &:hover,
          &.on {
            font-size: 24px;
            color: var(--color-green);
            font-weight: 700;
          }

          strong {
            margin-right: 12px;
            color: inherit;
            font-weight: inherit;
          }
        }
      }
    }

    .right {
      padding: 300px 200px 80px 0;
      display: flex;
      flex-direction: column;
      gap: 140px;

      .sub-tit {
        margin-bottom: 20px;
        color: var(--color-green);
      }

      .sub-text {
        text-align: justify;
        margin-bottom: 42px;
      }

      .sub-figs {
        position: relative;
        background: var(--color-han-bgbr);
        width: 100%;
        max-width: max-content;
        border-radius: 4px;
        display: flex;
        flex-direction: row;

        // 공통 스타일
        .dim-layer {
          position: absolute;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.60);
        }

        .apx {
          position: absolute;
          
          img, svg {
            width: 100%;
            height: 100%;
          }
        }

        // Area 섹션
        &.area {
          overflow: visible;
          will-change: contents;
          transform: translateZ(0);
          -webkit-font-smoothing: antialiased;
          aspect-ratio: 1030/357;
          > img {
            opacity: 1;
          }

          .dim-layer {
            opacity: 0;
            z-index: 1;
            will-change: opacity;
            backface-visibility: hidden;
            transform: translateZ(0);
            animation: areaDimLayer 8s ease-in-out infinite;
          }

          .apx-01 {
            top: calc((4/357) * 100%);
            left: calc((65/1030) * 100%);
            width: calc((283/1030) * 100%);
            height: calc((367/357) * 100%);
            box-shadow: -3.9px -3.9px 11.467px 0 rgba(0, 0, 0, 0.25);
            opacity: 0;
            z-index: 2;
            will-change: opacity;
            backface-visibility: hidden;
            transform: translateZ(0);
            animation: areaApx01 8s ease-in-out infinite;

            .rect-box {
              position: absolute;
              display: block;
              border: 4px solid #FF5917;
              width: calc((268/283) * 100%);
              height: calc((78/367) * 100%);
              border-radius: 4px;
              top: calc((8/367) * 100%);
              right: calc((8/283) * 100%);
              opacity: 0;
              z-index: 3;
              will-change: opacity;
              backface-visibility: hidden;
              transform: translateZ(0);
              animation: areaRectBox 8s ease-in-out infinite;
              box-sizing: border-box;
              min-width: 1px;
              min-height: 1px;
            }
            
            .key-point {
              position: absolute;
              top: calc((58/367) * 100%);
              right: calc((14/283) * 100%);
              width: calc((36/283) * 100%);
              height: calc((40/367) * 100%);
              opacity: 0;
              z-index: 3;
              will-change: opacity, transform;
              backface-visibility: hidden;
              transform: translateZ(0);
              animation: areaKeyPoint 8s ease-in-out infinite;
  
              img {
                will-change: transform;
                backface-visibility: hidden;
                transform: translateZ(0);
                animation: pulseCircle 2s ease-in-out 1.2s infinite;
              }
  
              svg circle {
                will-change: transform;
                animation: pulseCircle 2s ease-in-out 1.2s infinite;
                transform-origin: center;
              }
            }
          }

          .apx-02 {
            position: absolute;
            top: calc((-6/357) * 100%);
            left: calc((504/1030) * 100%);
            width: calc((328/1030) * 100%);
            height: calc((355/357) * 100%);
            opacity: 0;
            z-index: 3;
            will-change: opacity;
            backface-visibility: hidden;
            transform: translateZ(0);
            animation: areaApx02 8s ease-in-out infinite;
          }
        }

        // Report 섹션
        &.report {  
          aspect-ratio: 1030/423;
          
          .apx-01 {
            top: 0;
            left:0;
            width: 100%;
            height: 100%;
            animation: dataApx01 10s ease-in-out infinite;
            
          }

          .apx-02 {
            top: 0;
            left:0;
            width: 100%;
            height: 100%;
            animation: dataApx02 10s ease-in-out infinite;
            
          }
        }

        // Progress 섹션
        &.progress {
          aspect-ratio: 1030/357;
          .apx-01 { 
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            animation: progressApx01 10s ease-in-out infinite;
          }
          .apx-02 { 
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            animation: progressApx02 10s ease-in-out infinite;
          }
          .apx-03 { 
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            animation: progressApx03 10s ease-in-out infinite;
          }
          .sub-apx-slide {
            position: absolute;
            top: calc((46.52/357)*100%);
            left: calc((67/1030)*100%);
            width: calc((328/1030)*100%);
            height: calc((214/357)*100%);
            overflow: hidden;
          }
          .sub-apx-slide-item {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            box-shadow: -5.363px -5.363px 16.089px 0 rgba(0, 0, 0, 0.25);
            animation-duration: 10s;
            animation-timing-function: ease-in-out;
            animation-iteration-count: infinite;

            img {
              width: 100%;
              height: 100%;
              object-fit: contain;
            }

            &:nth-child(1) { animation-name: progressSlideItem1; }
            &:nth-child(2) { animation-name: progressSlideItem2; }
            &:nth-child(3) { animation-name: progressSlideItem3; }
            &:nth-child(4) { animation-name: progressSlideItem4; }
          }
        }

        // Cost 섹션
        &.cost {
          aspect-ratio: 1030/423;

          .dim-layer {
            animation: costDimLayer 10s ease-in-out infinite;
          }

          .apx {
            top: calc((2/423)*100%);
            left: calc((60/1030)*100%);
            width: calc((232/1030)*100%);
            height: calc((408/423)*100%);
            opacity: 1;
            
            &::before {
              content: " ";
              position: absolute;
              border-radius: 2px;
              top: calc((4/408)*100%);
              left: calc((-2/557)*100%);
              width: calc((224/231)*100%);
              height: calc((400/408)*100%);   
              border: 1px dashed #FF5917;
              z-index: 1;
            }

            .zoom-box {
              position: absolute;
              top: calc((-46/408)*100%);
              left: calc((-6/232)*100%);
              width: calc((416/232)*100%);
              height: calc((493/408)*100%);
              opacity: 0;
              z-index: 2;
              will-change: opacity, transform;
              backface-visibility: hidden;
              transform: translateZ(0);
              transform-origin: center left;
              box-sizing: border-box;
              min-width: 1px;
              min-height: 1px;
              transform: scale(0.95);
            }
          }

          .apx-01 {
            animation: costApx01 10s ease-in-out infinite;
            
            .zoom-box {
              animation: costZoomBox01 10s ease-in-out infinite;
            }
          }

          .apx-02 {
            animation: costApx02 10s ease-in-out infinite;
            
            .zoom-box {
              animation: costZoomBox02 10s ease-in-out infinite;
            }
          }

          .apx-03 {
            animation: costApx03 10s ease-in-out infinite;
            
            .zoom-box {
              animation: costZoomBox03 10s ease-in-out infinite;
            }
          }
        }

        // Data 섹션
        &.data {
          aspect-ratio: 1030/357;

          > img {
            opacity: 1;
          }

          .apx-01 {
            top:0;
            left: 0;
            width:100%;
            height: 100%;
            opacity: 0;
            animation: dataApx01 10s ease-in-out infinite;
          }

          .apx-02 {
            top: 0;
            left: 0;
            width: 100%;
            height:100%;
            opacity: 0;
            animation: dataApx02 10s ease-in-out infinite;
          }
        }

        // 공통 텍스트 스타일
        .text {
          position: relative;
          width: 100%;
          min-width: 280px;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          gap: 20px;
          font-size: 18px;
          padding: 24px 0;
        }

        .top {
          text-align: center;
        }

        .line {
          width: 40%;
          border-top: 1px solid #000;
          font-size: 0;
          box-sizing: border-box;

          img {
            margin: -1px auto 0;
            display: block;
          }
        }

        .bottom {
          display: flex;
          flex-direction: row;
          align-items: center;
          gap: 8px;
          color: var(--color-green);

          img {
            width: 40px;
            object-fit: contain;
          }
        }

        img:not(.apx) {
          max-width: 100%;
          height: auto;
          object-fit: contain;
        }
      }
    }

    &.key .left .mid-tit {
      background-image: url(../img/primary/bg_key_title.png);
    }
  }
}